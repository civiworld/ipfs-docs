---
title: Privacy and encryption
description: Learn about user privacy in IPFS and why it does not come with a built-in privacy layer or encryption.
sidebarDepth: 2
---

# 隐私和加密

作为点对点数据存储和传输协议，IPFS 是一个 _公共网络_：参与网络的节点存储与全局一致的 [内容地址](content-addressing.md) (CID) 相关联的数据，并通过可公开查看的 [分布式哈希表](dht.md) (DHT) 宣传它们拥有可供其他节点使用的 CID。这种模式是 IPFS 的核心优势之一 - 从最基本的意义上讲，它本质上是网络总可用数据的全球分布式“服务器”，内容本身（那些 CID）和拥有或想要内容的参与者（节点）都可以引用。

然而，这确实意味着 IPFS 本身并没有明确保护有关 CID 以及提供或检索它们的节点的知识。这并不是分布式网络所独有的；在 d-web 和传统网络上，都可以监控流量和其他元数据，从而推断出很多有关网络及其用户的信息。下面概述了一些关键细节，但简而言之：虽然节点之间的 IPFS 流量是加密的，但这些节点发布到 DHT 的元数据是公开的。节点会公布对 DHT 功能至关重要的各种信息 - 包括它们的唯一节点标识符 (PeerID) 和它们提供的数据的 CID - 因此，有关哪些节点正在检索和/或重新提供哪些 CID 的信息是公开的。

那么，为什么 IPFS 协议本身没有明确内置隐私层？这符合协议高度模块化设计的关键原则 - 毕竟，IPFS 在其生命周期内的不同用途可能需要不同的隐私方法。在 IPFS 核心内明确实施隐私方法可能会因缺乏模块化、灵活性和面向未来性而“限制”未来的建设者。另一方面，让那些在 IPFS 上构建的人自由地使用最适合当前情况的隐私方法，确保 IPFS 对尽可能多的人有用。

如果你担心这方面的影响，可能值得采取额外措施，例如禁用重新提供、加密敏感内容，甚至运行私有 IPFS 网络（如果这对你来说合适）。

::: tip
虽然节点之间的 IPFS 流量是加密的，但节点发布到 DHT 的基本元数据（包括其唯一节点标识符 (PeerID) 和它们提供的数据的 CID）是公开的。如果你担心这对你的个人用例的影响，则值得采取额外措施。
:::

## IPFS 上公开的内容

IPFS 上的所有流量都是公开的，包括文件本身的内容，除非它们是 [加密](#encryption)。为了理解 IPFS 隐私，最简单的方法可能是将其分为两部分：内容标识符 (CID) 和 IPFS 节点本身。

### 内容标识符

由于 IPFS 使用 [内容寻址](content-addressing.md) 而不是传统网络的位置寻址方法，因此存储在 IPFS 网络中的每条数据都有其自己的唯一内容标识符 (CID)。与该 CID 关联的数据副本可以存储在全球任意数量的参与 IPFS 节点上的任意数量的位置。为了使检索与特定 CID 关联的数据变得高效且可靠，IPFS 使用 [分布式哈希表](dht.md) (DHT) 来跟踪存储的内容。当你使用 IPFS 检索特定 CID 时，你的节点会查询 DHT 以找到离你最近的具有该项目的节点 — 并且默认情况下还同意在有限的时间内将该 CID 重新提供给其他节点，直到定期“垃圾收集”清除你一段时间未使用的内容缓存。你还可以“固定”要确保永远不会被垃圾收集的 CID — 要么明确使用 IPFS 的低级“pin”API，要么隐式使用 [可变文件系统](file-systems.md#mutable-file-system-mfs) (MFS) — 这也意味着你将充当该数据的永久重新提供者。

这是 IPFS 相对于传统旧式网络托管的优势之一。这意味着检索文件 — 尤其是存在于网络中许多节点上的热门文件 — 可以更快、更节省带宽。但是，需要注意的是，这些 DHT 查询是公开进行的。因此，第三方可能会监控此流量以确定请求了哪些 CID、何时请求以及由谁请求。随着 IPFS 的普及，这种监控更有可能存在。

### 节点可识别性

在考虑 IPFS 流量监控的前景时，等式的另一半是节点的唯一标识符本身是公开的。与 CID 一样，每个单独的 IPFS 节点都有自己的公共标识符（称为 PeerID），例如`QmRGgYP1P5bjgapLaShMVhGMSwGN9SfYG3CM2TfhpJ3igE`。

虽然一串长字母和数字可能不是“Johnny Appleseed”级别的人类可读特异性，但你的 PeerID 仍然是你节点的长期唯一标识符。请记住，可以对你的 PeerID 进行 DHT 查找，特别是如果你的节点经常从同一位置（例如你的家）运行，则可以找到你的 IP 地址。 （如有必要，可以[重置你的 PeerID](../reference/kubo/cli.md#ipfs-key-rotate)，但与在旧版 Web 应用和服务上更改用户 ID 类似，可能需要付出额外努力。）此外，对公共 IPFS 网络的长期监控可以提供有关你的节点正在请求和/或重新提供哪些 CID 以及何时提供的信息。

### 加密

网络中有两种加密类型：_传输加密_和_内容加密_。

传输加密用于在双方之间发送数据。Albert 加密文件并将其发送给 Laika，Laika 收到文件后对其进行解密。这样可以阻止第三方在数据从一个地方移动到另一个地方时查看数据。

![显示传输加密工作原理的粗略图表。](./images/transport-encryption.png)

内容加密用于保护数据，直到有人需要访问它。Albert 为他的月度预算创建了一个电子表格，并使用密码保存了它。当 Albert 需要再次访问它时，他必须输入密码才能解密文件。没有密码，Laika 就无法查看文件。

![显示内容加密工作原理的粗略图表。](./images/content-encryption.png)

IPFS 使用传输加密，但不使用内容加密。这意味着你的数据在从一个 IPFS 节点发送到另一个 IPFS 节点时是安全的。但是，只要有 CID，任何人都可以下载和查看该数据。没有内容加密是故意为之。你无需强制使用特定的加密协议，而是可以自由选择最适合你项目的方法。这种模块化设计使 IPFS 保持轻量级，并且不受“供应商锁定”的影响。

### 使用 IPFS 的基于加密的项目

- [Ceramic](https://ceramic.network/)
- [Fission.codes](https://fission.codes/)
- [Fleek](../case-studies/fleek.md)
- [Lit Protocol](https://litprotocol.com/)
- [OrbitDB](https://github.com/orbitdb)
- [Peergos](https://peergos.org/)
- [Textile](https://www.textile.io/)